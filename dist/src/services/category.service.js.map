{"version":3,"sources":["../../../src/services/category.service.ts"],"sourcesContent":["import { PrismaClient, Category  } from \"@prisma/client\"\r\nimport { HttpException } from \"../exceptions/httpException\"\r\nimport {prisma} from 'database/adapter'\r\n\r\nexport class CategoryService{\r\n    \r\n    static async getAll(){\r\n        const findCategory = await prisma.category.findMany()\r\n        if(!findCategory) throw new HttpException(404,\"Category not found\")\r\n        return findCategory\r\n    }\r\n\r\n    static async getById(id: number){\r\n        const findCategory = await prisma.category.findUnique({where:{id}})\r\n        if(!findCategory) throw new HttpException(404,\"Category not found\")\r\n        return findCategory\r\n    }\r\n\r\n\r\n    static async save(category: Category){\r\n        return await prisma.category.create({data:{...category}})\r\n    }\r\n\r\n    static async delete(id: number){\r\n        const findCategory = await prisma.category.findUnique({where:{id}})\r\n        if(!findCategory) throw new HttpException(404,\"Category not found\")\r\n        return await prisma.category.delete({where:{id}})\r\n    }\r\n\r\n    static async update(category: Category){\r\n        const {id} = category\r\n        const findCategory = await prisma.category.findUnique({where:{id}})\r\n        if(!findCategory) throw new HttpException(404,\"Category not found\")\r\n        return await prisma.category.update({where:{id},data:{...category}})\r\n    }\r\n\r\n\r\n\r\n\r\n}"],"names":["CategoryService","getAll","findCategory","prisma","category","findMany","HttpException","getById","id","findUnique","where","save","create","data","delete","update"],"mappings":";;;;+BAIaA;;;eAAAA;;;+BAHiB;yBACT;AAEd,IAAA,AAAMA,kBAAN,MAAMA;IAET,aAAaC,SAAQ;QACjB,MAAMC,eAAe,MAAMC,eAAM,CAACC,QAAQ,CAACC,QAAQ;QACnD,IAAG,CAACH,cAAc,MAAM,IAAII,4BAAa,CAAC,KAAI;QAC9C,OAAOJ;IACX;IAEA,aAAaK,QAAQC,EAAU,EAAC;QAC5B,MAAMN,eAAe,MAAMC,eAAM,CAACC,QAAQ,CAACK,UAAU,CAAC;YAACC,OAAM;gBAACF;YAAE;QAAC;QACjE,IAAG,CAACN,cAAc,MAAM,IAAII,4BAAa,CAAC,KAAI;QAC9C,OAAOJ;IACX;IAGA,aAAaS,KAAKP,QAAkB,EAAC;QACjC,OAAO,MAAMD,eAAM,CAACC,QAAQ,CAACQ,MAAM,CAAC;YAACC,MAAK;gBAAC,GAAGT,QAAQ;YAAA;QAAC;IAC3D;IAEA,aAAaU,OAAON,EAAU,EAAC;QAC3B,MAAMN,eAAe,MAAMC,eAAM,CAACC,QAAQ,CAACK,UAAU,CAAC;YAACC,OAAM;gBAACF;YAAE;QAAC;QACjE,IAAG,CAACN,cAAc,MAAM,IAAII,4BAAa,CAAC,KAAI;QAC9C,OAAO,MAAMH,eAAM,CAACC,QAAQ,CAACU,MAAM,CAAC;YAACJ,OAAM;gBAACF;YAAE;QAAC;IACnD;IAEA,aAAaO,OAAOX,QAAkB,EAAC;QACnC,MAAM,EAACI,EAAE,EAAC,GAAGJ;QACb,MAAMF,eAAe,MAAMC,eAAM,CAACC,QAAQ,CAACK,UAAU,CAAC;YAACC,OAAM;gBAACF;YAAE;QAAC;QACjE,IAAG,CAACN,cAAc,MAAM,IAAII,4BAAa,CAAC,KAAI;QAC9C,OAAO,MAAMH,eAAM,CAACC,QAAQ,CAACW,MAAM,CAAC;YAACL,OAAM;gBAACF;YAAE;YAAEK,MAAK;gBAAC,GAAGT,QAAQ;YAAA;QAAC;IACtE;AAKJ"}