{"version":3,"sources":["../../../src/middlewares/isAdmin.middleware.ts"],"sourcesContent":["import { NextFunction, Request, Response } from \"express\"\r\nimport { HttpException } from \"../exceptions/httpException\";\r\n\r\nexport function isAdmin(req:Request, res:Response, next:NextFunction){\r\n    try{\r\n        if(!req.user)return\r\n        const role = req.user.role\r\n        console.log(role)\r\n        if(role!=\"admin\") next(new HttpException(403, \"Not permission\"))\r\n        next()\r\n    }catch(error){\r\n        next(error)\r\n    }\r\n}"],"names":["isAdmin","req","res","next","user","role","console","log","HttpException","error"],"mappings":";;;;+BAGgBA;;;eAAAA;;;+BAFc;AAEvB,SAASA,QAAQC,GAAW,EAAEC,GAAY,EAAEC,IAAiB;IAChE,IAAG;QACC,IAAG,CAACF,IAAIG,IAAI,EAAC;QACb,MAAMC,OAAOJ,IAAIG,IAAI,CAACC,IAAI;QAC1BC,QAAQC,GAAG,CAACF;QACZ,IAAGA,QAAM,SAASF,KAAK,IAAIK,4BAAa,CAAC,KAAK;QAC9CL;IACJ,EAAC,OAAMM,OAAM;QACTN,KAAKM;IACT;AACJ"}