{"version":3,"sources":["../../../src/controllers/product.controller.ts"],"sourcesContent":["import { NextFunction, Request,Response } from \"express\"\r\nimport { ProductService } from \"../services/product.service\"\r\nimport { HttpException } from \"../exceptions/httpException\"\r\n\r\nexport class ProductController{\r\n\r\n    static async getAll(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const products = await ProductService.getAll()\r\n            res.status(201).json(products)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async getByID(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const product = await ProductService.getById(id)\r\n            res.status(201).json(product)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async save(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const product = req.body.product\r\n            const categories = req.body.categories\r\n            const result = await ProductService.save(product,categories)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async delete(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const result = await ProductService.delete(id)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async update(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const product = req.body\r\n            product.id = id\r\n            const result = await ProductService.update(product)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n\r\n}"],"names":["ProductService","HttpException","ProductController","getAll","req","res","next","products","error","status","json","getByID","id","product","Number","parseInt","params","isNaN","getById","save","categories","result","body","delete","update"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAASA,cAAc,QAAQ,8BAA6B;AAC5D,SAASC,aAAa,QAAQ,8BAA6B;AAE3D,OAAO,IAAA,AAAMC,kCAAN;;aAAMA;gCAAAA;;kBAAAA;;YAEIC,KAAAA;mBAAb,SAAaA,OAAOC,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcC,UAEHC;;;;;;;;;;gCAFc;;oCAAMR,eAAeG,MAAM;;;gCAAtCI,WAAW;gCACjBF,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;;;;;;gCAClBC;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEaG,KAAAA;mBAAb,SAAaA,QAAQP,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAlE,oBAAA;wBAEcM,IAEAC,SAEHL;;;;;;;;;;gCAJGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCAC1B;;oCAAMD,eAAekB,OAAO,CAACN;;;gCAAvCC,UAAU;gCAChBR,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACG;;;;;;gCAClBL;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEaW,KAAAA;mBAAb,SAAaA,KAAKf,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAA/D,oBAAA;wBAEcO,SACAO,YACAC,QAEHb;;;;;;;;;;gCAJGK,UAAUT,IAAIkB,IAAI,CAACT,OAAO;gCAC1BO,aAAahB,IAAIkB,IAAI,CAACF,UAAU;gCACvB;;oCAAMpB,eAAemB,IAAI,CAACN,SAAQO;;;gCAA3CC,SAAS;gCACfhB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACW;;;;;;gCAClBb;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEae,KAAAA;mBAAb,SAAaA,QAAOnB,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcM,IAEAS,QAEHb;;;;;;;;;;gCAJGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCAC3B;;oCAAMD,eAAeuB,MAAM,CAACX;;;gCAArCS,SAAS;gCACfhB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACW;;;;;;gCAClBb;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEagB,KAAAA;mBAAb,SAAaA,OAAOpB,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcM,IAEAC,SAEAQ,QAEHb;;;;;;;;;;gCANGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCACpCY,UAAUT,IAAIkB,IAAI;gCACxBT,QAAQD,EAAE,GAAGA;gCACE;;oCAAMZ,eAAewB,MAAM,CAACX;;;gCAArCQ,SAAS;gCACfhB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACW;;;;;;gCAClBb;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;WAvDSN;IA0DZ"}