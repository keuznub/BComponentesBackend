{"version":3,"sources":["../../../src/controllers/category.controller.ts"],"sourcesContent":["import { NextFunction, Request,Response } from \"express\"\r\nimport { CategoryService } from \"../services/category.service\"\r\nimport { HttpException } from \"../exceptions/httpException\"\r\n\r\nexport class CategoryController{\r\n\r\n    static async getAll(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const categories = await CategoryService.getAll()\r\n            res.status(201).json(categories)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async getByID(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const category = await CategoryService.getById(id)\r\n            res.status(201).json(category)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async save(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const category = req.body\r\n            const result = await CategoryService.save(category)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async delete(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const result = await CategoryService.delete(id)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n    static async update(req: Request, res:Response, next:NextFunction){\r\n        try{\r\n            const id = Number.parseInt(req.params.id)\r\n            if(isNaN(id)) throw new HttpException(400,\"Bad request\")\r\n            const product = req.body\r\n            product.id = id\r\n            const result = await CategoryService.update(product)\r\n            res.status(201).json(result)\r\n        }catch(error){\r\n            next(error)\r\n        }\r\n    }\r\n\r\n\r\n}"],"names":["CategoryService","HttpException","CategoryController","getAll","req","res","next","categories","error","status","json","getByID","id","category","Number","parseInt","params","isNaN","getById","save","result","body","delete","update","product"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAASA,eAAe,QAAQ,+BAA8B;AAC9D,SAASC,aAAa,QAAQ,8BAA6B;AAE3D,OAAO,IAAA,AAAMC,mCAAN;;aAAMA;gCAAAA;;kBAAAA;;YAEIC,KAAAA;mBAAb,SAAaA,OAAOC,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcC,YAEHC;;;;;;;;;;gCAFgB;;oCAAMR,gBAAgBG,MAAM;;;gCAAzCI,aAAa;gCACnBF,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;;;;;;gCAClBC;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEaG,KAAAA;mBAAb,SAAaA,QAAQP,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAlE,oBAAA;wBAEcM,IAEAC,UAEHL;;;;;;;;;;gCAJGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCACzB;;oCAAMD,gBAAgBkB,OAAO,CAACN;;;gCAAzCC,WAAW;gCACjBR,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACG;;;;;;gCAClBL;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEaW,KAAAA;mBAAb,SAAaA,KAAKf,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAA/D,oBAAA;wBAEcO,UACAO,QAEHZ;;;;;;;;;;gCAHGK,WAAWT,IAAIiB,IAAI;gCACV;;oCAAMrB,gBAAgBmB,IAAI,CAACN;;;gCAApCO,SAAS;gCACff,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACU;;;;;;gCAClBZ;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEac,KAAAA;mBAAb,SAAaA,QAAOlB,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcM,IAEAQ,QAEHZ;;;;;;;;;;gCAJGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCAC3B;;oCAAMD,gBAAgBsB,MAAM,CAACV;;;gCAAtCQ,SAAS;gCACff,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACU;;;;;;gCAClBZ;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;YAEae,KAAAA;mBAAb,SAAaA,OAAOnB,GAAY,EAAEC,GAAY,EAAEC,IAAiB;uBAAjE,oBAAA;wBAEcM,IAEAY,SAEAJ,QAEHZ;;;;;;;;;;gCANGI,KAAKE,OAAOC,QAAQ,CAACX,IAAIY,MAAM,CAACJ,EAAE;gCACxC,IAAGK,MAAML,KAAK,MAAM,IAAIX,cAAc,KAAI;gCACpCuB,UAAUpB,IAAIiB,IAAI;gCACxBG,QAAQZ,EAAE,GAAGA;gCACE;;oCAAMZ,gBAAgBuB,MAAM,CAACC;;;gCAAtCJ,SAAS;gCACff,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACU;;;;;;gCAClBZ;gCACHF,KAAKE;;;;;;;;;;;gBAEb;;;;WAtDSN;IAyDZ"}